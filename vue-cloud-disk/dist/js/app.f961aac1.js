(function(e){function t(t){for(var i,n,r=t[0],l=t[1],c=t[2],d=0,m=[];d<r.length;d++)n=r[d],s[n]&&m.push(s[n][0]),s[n]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(e[i]=l[i]);u&&u(t);while(m.length)m.shift()();return o.push.apply(o,c||[]),a()}function a(){for(var e,t=0;t<o.length;t++){for(var a=o[t],i=!0,r=1;r<a.length;r++){var l=a[r];0!==s[l]&&(i=!1)}i&&(o.splice(t--,1),e=n(n.s=a[0]))}return e}var i={},s={app:0},o=[];function n(t){if(i[t])return i[t].exports;var a=i[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=i,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(a,i,function(t){return e[t]}.bind(null,i));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],l=r.push.bind(r);r.push=t,r=r.slice();for(var c=0;c<r.length;c++)t(r[c]);var u=l;o.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"0135":function(e,t,a){"use strict";var i=a("3f9f"),s=a.n(i);s.a},"0205":function(e,t,a){},"034f":function(e,t,a){"use strict";var i=a("64a9"),s=a.n(i);s.a},1:function(e,t){},"131e":function(e,t,a){e.exports=a.p+"img/world.1f012168.svg"},"15f0":function(e,t,a){},1951:function(e,t,a){e.exports=a.p+"img/zip.83a57ca6.svg"},"2d16":function(e,t,a){"use strict";var i=a("0205"),s=a.n(i);s.a},3344:function(e,t,a){},"3f9f":function(e,t,a){},"4ae0":function(e,t,a){"use strict";var i=a("bcc1"),s=a.n(i);s.a},"540d":function(e,t,a){e.exports=a.p+"img/folder.4293f0df.svg"},"56d7":function(e,t,a){"use strict";a.r(t);a("cadf"),a("551c"),a("f751"),a("097d");var i=a("2b0e"),s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},o=[],n={name:"App"},r=n,l=(a("034f"),a("2877")),c=Object(l["a"])(r,s,o,!1,null,null,null),u=c.exports,d=a("8c4f"),m=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-container",[a("el-header",[a("Header")],1),a("el-container",[a("el-aside",[a("el-container",[a("el-header",[a("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{"default-active":"1"}},[a("el-menu-item",{attrs:{index:"1"},on:{click:function(t){return e.handleSelect(1)}}},[a("i",{staticClass:"el-icon-tickets"}),a("span",{attrs:{slot:"title"},slot:"title"},[e._v("全部文件")])]),a("el-menu-item",{attrs:{index:"1-2"},on:{click:function(t){return e.handleSelect(12)}}},[a("span",{staticClass:"item",attrs:{slot:"title"},slot:"title"},[e._v("图片")])]),a("el-menu-item",{attrs:{index:"1-3"},on:{click:function(t){return e.handleSelect(13)}}},[a("span",{staticClass:"item",attrs:{slot:"title"},slot:"title"},[e._v("文档")])]),a("el-menu-item",{attrs:{index:"1-4"},on:{click:function(t){return e.handleSelect(14)}}},[a("span",{staticClass:"item",attrs:{slot:"title"},slot:"title"},[e._v("视频")])]),a("el-menu-item",{attrs:{index:"1-5"},on:{click:function(t){return e.handleSelect(15)}}},[a("span",{staticClass:"item",attrs:{slot:"title"},slot:"title"},[e._v("音乐")])]),a("el-menu-item",{attrs:{index:"2"},on:{click:function(t){return e.handleSelect(2)}}},[a("i",{staticClass:"el-icon-share"}),a("span",{attrs:{slot:"title"},slot:"title"},[e._v("我的分享")])]),a("el-menu-item",{attrs:{index:"3"},on:{click:function(t){return e.handleSelect(3)}}},[a("i",{staticClass:"el-icon-delete"}),a("span",{attrs:{slot:"title"},slot:"title"},[e._v("回收站")])])],1)],1),a("el-main"),a("el-footer",[a("el-progress",{attrs:{"text-inside":!1,"stroke-width":10,percentage:e.use,"show-text":!1}}),a("el-breadcrumb",{staticStyle:{"margin-top":"5px","font-size":"12px"},attrs:{separator:"/"}},[a("el-breadcrumb-item",[e._v(e._s(e.usesize))]),a("el-breadcrumb-item",[e._v("500M")])],1)],1)],1)],1),a("el-main",[e.someShow?a("Right",{attrs:{ykey:e.ykey}}):e._e()],1)],1)],1)},f=[],p=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-card",{staticClass:"box-card"},[a("a",{staticClass:"nav first",attrs:{href:"javascript:void(0)"}},[e._v("阿洋网盘")]),a("a",{staticClass:"nav",attrs:{href:"javascript:void(0)"}}),a("a",{staticClass:"nav",attrs:{href:"javascript:void(0)"}}),a("span",{staticClass:"name",staticStyle:{float:"right","margin-top":"5px"}},[e._v(e._s(e.name))]),a("el-dropdown",{staticClass:"avatar"},[a("span",{staticClass:"el-dropdown-link"},[a("div",{staticClass:"block",staticStyle:{float:"right","margin-bottom":"10px"}},[a("el-avatar",{attrs:{size:35,src:e.userImg}})],1)]),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",{nativeOn:{click:function(t){e.cpshow=!0}}},[e._v("修改密码")]),a("el-dropdown-item",{attrs:{divided:""}},[a("a",{on:{click:e.loginout}},[a("font",{staticStyle:{color:"#000000"}},[e._v("注销")])],1)])],1)],1),a("el-dialog",{attrs:{title:"修改密码",visible:e.cpshow,width:"20%"},on:{"update:visible":function(t){e.cpshow=t}}},[a("el-input",{attrs:{placeholder:"请输入修改的密码"},model:{value:e.input,callback:function(t){e.input=t},expression:"input"}}),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},nativeOn:{click:function(t){return e.cp()}}},[e._v("确 定")])],1)],1)],1)},h=[],g={name:"Header",data:function(){return{name:"未登录",userImg:a("bc28"),cpshow:!1,input:""}},components:{},created:function(){null!=localStorage.getItem("userimg")&&(this.userImg="http://47.99.39.91:8080/"+localStorage.getItem("userimg")),this.name=localStorage.getItem("name")},methods:{loginout:function(){localStorage.setItem("uid",""),this.$router.push({path:"/"})},cp:function(){var e=this,t=this;this.$http.post(this.$host+"correctPwd",this.$qs.stringify({pwd:this.input,username:localStorage.getItem("name")})).then(function(a){e.cpshow=!1,1==a.data.code?t.$message({message:"修改成功！！！",type:"success"}):t.$message({message:"修改失败！！！",type:"error"})})}}},v=g,b=(a("b571"),Object(l["a"])(v,p,h,!1,null,"37ab6a2c",null)),x=b.exports,y=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("div",{staticClass:"bt"},["/"!=e.path?i("el-button",{attrs:{type:"text",size:"medium",icon:"el-icon-arrow-left"},on:{click:e.back}},[e._v("\n\t\t\t返回上一级")]):e._e(),e.fshow?i("el-button",{attrs:{type:"primary",size:"medium",icon:"el-icon-upload2"},on:{click:function(t){e.dialogVisible=!0}}},[e._v("\n\t\t\t上传文件\n\t\t")]):e._e(),e.fshow?i("el-button",{attrs:{size:"medium"},on:{click:function(t){e.addfolder=!0}}},[e._v("新建文件夹")]):e._e(),e.fshow?i("el-button",{attrs:{size:"medium"},on:{click:function(t){e.addtxt=!0}}},[e._v("新建文件")]):e._e(),i("el-dialog",{attrs:{title:"输入文件夹名称",visible:e.addfolder,width:"20%"},on:{"update:visible":function(t){e.addfolder=t}}},[i("el-input",{attrs:{placeholder:"请输入内容"},model:{value:e.input,callback:function(t){e.input=t},expression:"input"}}),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(t){e.addfolder=!1}}},[e._v("取 消")]),i("el-button",{attrs:{type:"primary"},on:{click:e.newfolder}},[e._v("确 定")])],1)],1),i("el-dialog",{attrs:{title:"查看分享",visible:e.seeDetail1,width:"20%"},on:{"update:visible":function(t){e.seeDetail1=t}}},[e._v("\n\t\t\t分享链接："),i("span",[i("font",{staticStyle:{"font-size":"18px"}},[e._v(e._s(e.seehref))])],1),i("br"),i("br"),e._v("\n\t\t\t提取码："),i("span",[i("font",{staticStyle:{"font-size":"18px"}},[e._v(e._s(e.seecode))])],1),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{type:"primary"},on:{click:function(t){e.seeDetail1=!1}}},[e._v("确 定")])],1)]),i("el-dialog",{attrs:{title:"提取码",visible:e.addshare,width:"20%",model:e.tableData},on:{"update:visible":function(t){e.addshare=t}}},[i("el-radio",{attrs:{label:"1"},model:{value:e.radio,callback:function(t){e.radio=t},expression:"radio"}},[e._v("7天")]),i("el-radio",{attrs:{label:"2"},model:{value:e.radio,callback:function(t){e.radio=t},expression:"radio"}},[e._v("30天")]),i("el-radio",{attrs:{label:"3"},model:{value:e.radio,callback:function(t){e.radio=t},expression:"radio"}},[e._v("永久")]),i("br"),i("br"),i("el-input",{attrs:{placeholder:"请输入提取码"},model:{value:e.input,callback:function(t){e.input=t},expression:"input"}}),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(t){e.addshare=!1}}},[e._v("取 消")]),i("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.shareFilea()}}},[e._v("确 定")])],1)],1),i("el-dialog",{attrs:{title:"上传",visible:e.dialogVisible,width:"30%","before-close":e.handleClose},on:{"update:visible":function(t){e.dialogVisible=t}}},[i("el-upload",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"upload-demo",attrs:{drag:"",action:"upload","before-upload":e.beforeUpload,multiple:"","element-loading-text":"正在上传"}},[i("i",{staticClass:"el-icon-upload"}),i("div",{staticClass:"el-upload__text"},[e._v("将文件拖到此处，或"),i("em",[e._v("点击上传")])]),i("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"})]),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"})],1),i("div",{attrs:{id:"search"}},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.keywords,expression:"keywords"}],staticClass:"search",attrs:{placeholder:"请输入内容"},domProps:{value:e.keywords},on:{input:function(t){t.target.composing||(e.keywords=t.target.value)}}}),e._m(0)])],1),i("el-table",{attrs:{data:e.search(e.keywords),height:e.height}},[i("el-table-column",{attrs:{prop:"name",label:"文件名",width:"600"},scopedSlots:e._u([{key:"default",fn:function(t){var s=t.row;t.$index;return[i("img",{staticStyle:{cursor:"default",display:"block",height:"26px",width:"26px",position:"absolute",left:"0px",top:"10px"},attrs:{slot:"reference",src:a("9eb7")("./"+s.img),alt:""},slot:"reference"}),i("a",{staticStyle:{position:"absolute",left:"40px",top:"12px"},attrs:{href:"javascript:void(0)"},on:{click:function(t){return e.next(s.name,s.img)}}},[e._v(e._s(s.name))])]}}])}),i("el-table-column",{attrs:{prop:"size",label:"大小",width:"270"}}),i("el-table-column",{attrs:{prop:"time",label:"修改日期",width:"220"}}),i("el-table-column",{scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row,s=t.$index;return[e.fshow?i("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"分享",placement:"bottom-start"}},[i("el-button",{attrs:{type:"text"}},[i("i",{staticClass:"el-icon-share",on:{click:function(t){return e.addsharemid(a.name)}}})])],1):e._e(),e.fshow?i("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"下载",placement:"bottom-start"}},[i("el-button",{attrs:{type:"text"}},[i("i",{staticClass:"el-icon-download",on:{click:function(t){return e.download(a.name)}}})])],1):e._e(),e.freshShow?i("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"还原",placement:"bottom-start"}},[i("el-button",{attrs:{type:"text"}},[i("i",{staticClass:"el-icon-refresh-left",on:{click:function(t){return e.huanyuan(a.id,a.href,a.name)}}})])],1):e._e(),e.quitShow?i("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"查看分享",placement:"bottom-start"}},[i("el-button",{attrs:{type:"text"}},[i("i",{staticClass:"el-icon-view",on:{click:function(t){return e.seeDetail(a.href,a.code)}}})])],1):e._e(),e.quitShow?i("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"取消分享",placement:"bottom-start"}},[i("el-button",{attrs:{type:"text"}},[i("i",{staticClass:"el-icon-circle-close",on:{click:function(t){return e.quitShare(a.id)}}})])],1):e._e(),e.delShow?i("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"删除",placement:"bottom-start"}},[i("el-button",{attrs:{type:"text"}},[i("i",{staticClass:"el-icon-delete",on:{click:function(t){return e.del(a.id,a.name,s)}}})])],1):e._e(),e.showViewer?i("el-image-viewer",{attrs:{"on-close":e.closeViewer,"url-list":[e.url]}}):e._e()]}}])})],1)],1)},w=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",{staticClass:"btn"},[a("i",{staticClass:"el-icon-search"})])}],$=(a("57e7"),a("55dd"),a("7618")),F=(a("28a5"),a("7f7f"),a("ac6a"),a("f3e2"),a("c5f6"),a("08a9")),_={name:"Right",props:{ykey:Number},components:{ElImageViewer:F["a"]},data:function(){return{input:"",height:window.innerHeight-62-80-40,tableData:[],keywords:"",dialogVisible:!1,loading:!1,path:"/",username:localStorage.getItem("name"),addfolder:!1,addtxt:!1,addshare:!1,showViewer:!1,url:"",shareFileName:"",fshow:!0,freshShow:!1,quitShow:!1,delShow:!0,radio:"1",seehref:"",seecode:"",seeDetail1:!1}},created:function(){this.init()},methods:{init:function(){var e=this;localStorage.setItem("path","/");var t=this.ykey;2==t&&(this.quitShow=!0,this.fshow=!1,this.delShow=!1),3==t&&(this.freshShow=!0,this.fshow=!1),this.$http.post(this.$hostFile+"listAll",this.$qs.stringify({sign:this.ykey,username:localStorage.getItem("name")})).then(function(a){console.log("全部页面时候："+a.data),console.log(a.data),null!=a.data.dir&&a.data.dir.forEach(function(t){if(""==t.size)var a="-";else if(t.size<1048576)a=(t.size/1024).toFixed(2)+"KB";else if(t.size>1048576&&t.size<1073741824)a=(t.size/1024/1024).toFixed(2)+"MB";else if(t.size>1073741824)a=(t.size/1024/1024/1024).toFixed(2)+"GB";e.tableData.push({name:t.name,time:t.mtime,img:t.img,size:a})}),null!=a.data.file&&a.data.file.forEach(function(a){if(""==a.size)var i="-";else if(1==t){if(a.size<1048576)i=(a.size/1024).toFixed(2)+"KB";else if(a.size>1048576&&a.size<1073741824)i=(a.size/1024/1024).toFixed(2)+"MB";else if(a.size>1073741824)i=(a.size/1024/1024/1024).toFixed(2)+"GB"}else{var s=parseInt(a.size.split("KB")[0]);if(console.log(Object($["a"])(s)),s>1023&&s<1048576)i=(s/1024).toFixed(2)+"MB";else if(s>1048577)i=(s/1024/1024).toFixed(2)+"GB";else i=a.size}2==t?e.tableData.push({name:a.name,time:a.mtime,img:a.img,size:i,id:a.id,href:a.href,code:a.code}):3==t?e.tableData.push({name:a.name,time:a.mtime,img:a.img,size:i,id:a.id,href:a.href}):1==t?e.tableData.push({name:a.name,time:a.mtime,img:a.img,size:i}):e.tableData.push({name:a.name,time:a.mtime,img:a.img,size:i,id:a.id})})})},next:function(e,t){var a=this;if(console.log(t.split(".svg")[0]),"folder"===t.split(".svg")[0]){var i=localStorage.getItem("path")+e+"/";this.path=i,this.$http.post(this.$hostFile+"nextLevel",this.$qs.stringify({sign:this.$sign,username:localStorage.getItem("name"),path:i})).then(function(e){localStorage.setItem("path",i),a.tableData=[],console.log("下一页时候："+e.data),console.log(e.data),null!=e.data.dir&&e.data.dir.forEach(function(e){if(""==e.size)var t="-";else if(e.size<1048576)t=(e.size/1024).toFixed(2)+"KB";else if(e.size>1048576&&e.size<1073741824)t=(e.size/1024/1024).toFixed(2)+"MB";else if(e.size>1073741824)t=(e.size/1024/1024/1024).toFixed(2)+"GB";a.tableData.push({name:e.name,time:e.mtime,img:e.img,size:t})}),null!=e.data.file&&e.data.file.forEach(function(e){if(""==e.size)var t="-";else if(e.size<1048576)t=(e.size/1024).toFixed(2)+"KB";else if(e.size>1048576&&e.size<1073741824)t=(e.size/1024/1024).toFixed(2)+"MB";else if(e.size>1073741824)t=(e.size/1024/1024/1024).toFixed(2)+"GB";a.tableData.push({name:e.name,time:e.mtime,img:e.img,size:t})})})}else console.log(e),this.$http.post(this.$hostFile+"seeFile",this.$qs.stringify({username:localStorage.getItem("name"),filename:e})).then(function(e){"picture"===e.data.sort?(a.url=e.data.uri,a.showViewer=!0):"video"===e.data.sort?a.$router.push({path:"/MP4",query:{uri:e.data.uri}}):"pdf"===e.data.sort?window.open(e.data.uri,"_blank"):"world"===e.data.sort||"excel"===e.data.sort?window.open("https://view.officeapps.live.com/op/view.aspx?src="+e.data.uri,"_blank"):alert("当前文件暂不支持打开！！！")})},closeViewer:function(){this.showViewer=!1},back:function(){var e=this,t=localStorage.getItem("path").split("/");t.splice(0,1),t.splice(t.length-1,1),t.splice(t.length-1,1);var a="/";t.forEach(function(e){a+=e+"/"}),this.path=a,this.$http.post(this.$hostFile+"lastLevel",this.$qs.stringify({sign:this.$sign,username:localStorage.getItem("name"),path:a})).then(function(t){localStorage.setItem("path",a),e.tableData=[],console.log("上一页时候："+t.data),console.log(t.data),t.data.dir.forEach(function(t){if(""==t.size)var a="-";else if(t.size<1048576)a=(t.size/1024).toFixed(2)+"KB";else if(t.size>1048576&&t.size<1073741824)a=(t.size/1024/1024).toFixed(2)+"MB";else if(t.size>1073741824)a=(t.size/1024/1024/1024).toFixed(2)+"GB";e.tableData.push({name:t.name,time:t.mtime,img:t.img,size:a})}),null!=t.data.file&&t.data.file.forEach(function(t){if(""==t.size)var a="-";else if(t.size<1048576)a=(t.size/1024).toFixed(2)+"KB";else if(t.size>1048576&&t.size<1073741824)a=(t.size/1024/1024).toFixed(2)+"MB";else if(t.size>1073741824)a=(t.size/1024/1024/1024).toFixed(2)+"GB";e.tableData.push({name:t.name,time:t.mtime,img:t.img,size:a})})})},search:function(e){var t=[];return this.tableData.forEach(function(a){-1!=a.name.indexOf(e)&&t.push(a)}),t},handleClose:function(e){e()},beforeUpload:function(e){var t=this;this.loading=!0;var a=new FormData;a.append("file",e),a.append("sign",this.$sign),a.append("username",localStorage.getItem("name")),a.append("path",localStorage.getItem("path"));var i=this;console.log(e),this.$http.post(this.$hostFile+"uploadFileToHDFS",a).then(function(e){1==e.data.code?(t.dialogVisible=!1,i.tableData=[],i.$message({showClose:!0,message:"上传成功",type:"success"}),i.loading=!1,window.location.reload()):0==e.data.code&&i.$message({showClose:!0,message:"文件已存在",type:"warning"}),i.loading=!1})},del:function(e,t,a){var i=this;this.$confirm("确定删除所选的文件吗？\n删除的文件可通过回收站还原?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){i.tableData.splice(a,1),1==i.ykey?i.$http.post(i.$hostFile+"delfile",i.$qs.stringify({filename:t,name:localStorage.getItem("path")+name,username:i.username})).then(function(e){1==e.data.code?i.$message({type:"success",message:"删除成功!"}):i.$message({type:"warning",message:"删除失败!"})}):i.$http.post(i.$hostFile+"delSortfile",i.$qs.stringify({id:e,name:localStorage.getItem("path")+name,username:i.username})).then(function(e){1==e.data.code?i.$message({type:"success",message:"删除成功!"}):i.$message({type:"warning",message:"删除失败!"})})}).catch(function(){i.$message({type:"info",message:"已取消删除"})})},download:function(e){window.location.href=this.$hostFile+"download?username="+this.username+"&fileName="+e},newfolder:function(){var e=this;this.$http.post(this.$hostFile+"newfolder",this.$qs.stringify({sign:this.$sign,username:this.username,path:localStorage.getItem("path"),fname:this.input})).then(function(t){0==t.data.code?(e.addfolder=!1,e.input="",e.$alert("创建文件夹成功","提示",{confirmButtonText:"确定",callback:function(t){e.$message({type:"info",message:"完成创建"}),window.location.reload()}})):e.$alert("创建文件夹失败，文件夹已存在","提示",{confirmButtonText:"确定",callback:function(t){e.$message({type:"info",message:"创建失败"})}})})},newtxt:function(){var e=this;this.$http.post(this.$hostFile+"newtxt",this.$qs.stringify({sign:this.$sign,username:this.username,path:localStorage.getItem("path"),txtname:this.input})).then(function(t){0==t.data.code?(e.addtxt=!1,e.input="",e.$alert("创建文件成功","提示",{confirmButtonText:"确定",callback:function(t){e.$message({type:"info",message:"完成创建"}),window.location.reload()}})):e.$alert("创建文件失败，文件已存在","提示",{confirmButtonText:"确定",callback:function(t){e.$message({type:"info",message:"创建失败"})}})})},addsharemid:function(e){this.shareFileName=e,this.addshare=!0},shareFilea:function(){var e=this;this.addshare=!1,this.$http.post(this.$hostFile+"to_shareFile",this.$qs.stringify({username:this.username,filename:this.shareFileName,code:this.input,overdue:this.radio})).then(function(t){e.input="",e.shareFileName="",1==t.data.code?e.$message({type:"info",message:"分享成功！！！"}):e.$message({type:"info",message:"分享失败！！！"})})},quitShare:function(e){var t=this;this.$http.post(this.$hostFile+"quitShare",this.$qs.stringify({id:e})).then(function(e){1==e.data.code?(t.$message({type:"info",message:"取消成功！！！"}),window.location.reload()):t.$message({type:"info",message:"取消失败！！！"})})},huanyuan:function(e,t,a){var i=this;this.$http.post(this.$hostFile+"huanYuan",this.$qs.stringify({id:e,href:t,username:this.username,fname:a})).then(function(e){1==e.data.code?(i.$message({type:"info",message:"还原成功！！！"}),window.location.reload()):i.$message({type:"info",message:"还原失败！！！"})})},seeDetail:function(e,t){this.seehref=e,this.seecode=t,this.seeDetail1=!0}}},S=_,k=(a("2d16"),Object(l["a"])(S,y,w,!1,null,"044b25bf",null)),z=k.exports,C={name:"Home",data:function(){return{use:"50",usesize:"100",timer:"",ykey:1,someShow:""}},components:{Header:x,Right:z},created:function(){var e=this;""!=localStorage.getItem("uid")&&void 0!=localStorage.getItem("uid")||this.$confirm("您还未登陆/或者登陆已过期","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.$router.push({path:"/"})}).catch(function(){e.$router.push({path:"/"})}),this.handleSelect(1);var t=localStorage.getItem("used"),a=1073741824,i=parseInt(t/a);this.use=0==i?1:i,this.usesize=Math.ceil(t/1024/1024)+"M"},methods:{handleSelect:function(e){console.log("key-------\x3e"+e),this.ykey=e,this.refesh()},refesh:function(){this.someShow=!1;var e=this;this.$nextTick(function(){e.someShow=!0})}}},I=C,B=(a("d3a2"),Object(l["a"])(I,m,f,!1,null,"3d093aba",null)),E=B.exports,D=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"main"},[a("el-card",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"box-card",attrs:{"element-loading-text":"正在登录，请稍后"}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("登录")]),a("el-button",{staticStyle:{float:"right",padding:"3px 0"},attrs:{type:"text"},on:{click:e.register}},[e._v("还没有账号？去注册\n\t\t\t")])],1),a("el-row",{attrs:{type:"flex",justify:"center"}},[a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules}},[a("el-form-item",{attrs:{prop:"name"}},[a("el-input",{attrs:{placeholder:"账号"},model:{value:e.ruleForm.name,callback:function(t){e.$set(e.ruleForm,"name",t)},expression:"ruleForm.name "}})],1),a("el-form-item",{attrs:{prop:"pass"}},[a("el-input",{attrs:{"show-password":"",placeholder:"密码"},model:{value:e.ruleForm.pass,callback:function(t){e.$set(e.ruleForm,"pass",t)},expression:"ruleForm.pass"}})],1),a("el-form-item",[a("el-button",{staticClass:"login",attrs:{type:"primary"},on:{click:function(t){return e.login("ruleForm")}}},[e._v("登录")])],1)],1)],1)],1)],1)},O=[],q={name:"Login",data:function(){var e=function(e,t,a){""===t?a(new Error("请输入账号")):a()},t=function(e,t,a){""===t?a(new Error("请输入密码")):a()};return{loading:!1,ruleForm:{name:"",pass:""},rules:{name:[{validator:e,trigger:"blur"}],pass:[{validator:t,trigger:"blur"}]}}},methods:{login:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;var a=t;t.$http.post(t.$host+"to_login",t.$qs.stringify({username:t.ruleForm.name,password:t.ruleForm.pass})).then(function(e){1==e.data.code?(a.$message({message:"登录成功！！！",type:"success"}),localStorage.setItem("userimg",e.data.userimg),localStorage.setItem("uid",a.$md5(a.ruleForm.name)),localStorage.setItem("name",a.ruleForm.name),localStorage.setItem("used",e.data.used),a.$router.push("/home")):-1==e.data.code?a.$message({message:"当前用户被封禁！！！",type:"error"}):a.$message({message:"用户名或密码错误！！！",type:"error"})}).catch(function(e){console.log(e)})})},resetForm:function(e){this.$refs[e].resetFields()},register:function(){this.$router.push({path:"Register"})},home:function(){this.$router.push({path:"/Home"})}}},j=q,T=(a("9124"),Object(l["a"])(j,D,O,!1,null,"0ac1d7de",null)),M=T.exports,N=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"main"},[a("el-card",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"box-card",attrs:{"element-loading-text":e.loading_text}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("注册")]),a("el-button",{staticStyle:{float:"right",padding:"3px 0"},attrs:{type:"text"},on:{click:e.login}},[e._v("已经有账号？去登陆\n                    ")])],1),a("el-row",{attrs:{type:"flex",justify:"center"}},[a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules}},[a("el-form-item",{attrs:{prop:"name"}},[a("el-input",{attrs:{placeholder:"账号"},model:{value:e.ruleForm.name,callback:function(t){e.$set(e.ruleForm,"name",t)},expression:"ruleForm.name"}})],1),a("el-form-item",{attrs:{prop:"pass"}},[a("el-input",{attrs:{"show-password":"",placeholder:"密码"},model:{value:e.ruleForm.pass,callback:function(t){e.$set(e.ruleForm,"pass",t)},expression:"ruleForm.pass"}})],1),a("el-form-item",{attrs:{prop:"repass"}},[a("el-input",{attrs:{"show-password":"",placeholder:"确认密码"},model:{value:e.ruleForm.repass,callback:function(t){e.$set(e.ruleForm,"repass",t)},expression:"ruleForm.repass"}})],1),a("el-form-item",{attrs:{prop:"phone"}},[a("el-col",{attrs:{span:16}},[a("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"手机号码"},model:{value:e.ruleForm.phone,callback:function(t){e.$set(e.ruleForm,"phone",t)},expression:"ruleForm.phone"}})],1),a("el-col",{attrs:{span:8}},[a("el-button",{staticStyle:{width:"100%"},attrs:{type:"primary",id:"yzm"},on:{click:function(t){return e.getcode("ruleForm")}}},[e._v("获取验证码")])],1)],1),a("el-form-item",{attrs:{prop:"yzm",id:"yzm"}},[a("el-input",{attrs:{placeholder:"手机验证码"},model:{value:e.ruleForm.yzm,callback:function(t){e.$set(e.ruleForm,"yzm",t)},expression:"ruleForm.yzm"}})],1),a("el-form-item",[a("el-button",{staticClass:"register",attrs:{type:"primary"},on:{click:function(t){return e.register("ruleForm")}}},[e._v("注册")])],1)],1)],1)],1)],1)},P=[],H={name:"Register",data:function(){var e=this,t=function(e,t,a){""===t?a(new Error("请输入账号")):t.length<3?a(new Error("至少位三个字符")):a()},a=function(e,t,a){""===t?a(new Error("请输入密码")):t.length<6?a(new Error("至少位六个字符")):a()},i=function(t,a,i){""===a?i(new Error("请输入密码")):a!==e.ruleForm.pass?i(new Error("两次输入密码不一致!")):i()},s=function(e,t,a){""===t?a(new Error("请输入手机号")):11!==t.length?a(new Error("请输入正确的手机号")):a()};return{loading:!1,ruleForm:{name:"",pass:"",repass:"",yzm:"",phone:"",loading_text:""},rules:{name:[{validator:t,trigger:"blur"}],pass:[{validator:a,trigger:"blur"}],repass:[{validator:i,trigger:"blur"}],phone:[{validator:s,trigger:"blur"}]}}},methods:{login:function(){this.$router.push({path:"/"})},register:function(e){var t=this;this.$refs[e].validate(function(a){if(a)t.loading=!0,t.loading_text="正在注册，请稍后",t.$http.post(t.$HOST+"v1/register",t.$qs.stringify({username:t.ruleForm.name,password:t.ruleForm.pass,phone:t.ruleForm.phone,code:t.ruleForm.yzm,sign:t.$sign})).then(function(a){0==a.data.code?t.$alert("注册成功","提示",{confirmButtonText:"确定",callback:function(e){t.$router.push({path:"/"})}}):1==a.data.code?(t.loading=!1,t.$refs[e].resetFields(),t.$alert("注册失败","提示",{confirmButtonText:"确定"})):2==a.data.code&&(t.loading=!1,t.$refs[e].resetFields(),t.$alert("用户名已存在","提示",{confirmButtonText:"确定"}))});else{if(2!=res.data.code)return console.log("error submit!!"),!1;t.loading=!1,t.$refs[e].resetFields(),t.$alert("验证码错误","提示",{confirmButtonText:"确定"})}})},home:function(){this.$router.push({path:"/"})},resetForm:function(e){this.$refs[e].resetFields()},getcode:function(e){var t=this;this.$refs[e].validate(function(e){e&&(t.loading=!0,t.loading_text="正在发送验证码",11!==t.ruleForm.phone.length?t.$alert("请输入正确的手机格式","提示",{confirmButtonText:"确定"}):t.$http.post(t.$HOST+"v1/yzm",t.$qs.stringify({phone:t.ruleForm.phone,sign:t.$sign})).then(function(e){0==e.data.code&&(t.loading=!1,t.$alert("发送成功","提示",{confirmButtonText:"确定"}))}))})}}},V=H,G=(a("777d"),Object(l["a"])(V,N,P,!1,null,"0f9bb4b2",null)),K=G.exports,U=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("video",{staticStyle:{margin:"5% 22%",position:"absolute"},attrs:{preload:e.preload,height:e.height,width:e.width,align:"center",controls:e.controls,autoplay:e.autoplay}},[a("source",{attrs:{src:e.videoSrc,type:"video/mp4"}})])])},L=[],R={name:"Video",data:function(){return{videoSrc:this.$route.query.uri,playStatus:"",muteStatus:"",isMute:!0,isPlay:!1,width:"1000",height:"600",preload:"auto",controls:!0,autoplay:""}}},A=R,J=(a("873e"),Object(l["a"])(A,U,L,!1,null,"c965d378",null)),Y=J.exports,Q=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-container",[a("el-header",[a("Header")],1),a("el-container",[a("el-aside"),a("el-main",[a("ShareFileMain")],1),a("el-aside")],1)],1)},W=[],X=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("div",{staticStyle:{height:"400px",width:"400px",margin:"30px auto","background-color":"#dedede","border-radius":"20px","text-align":"center"}},[i("img",{staticStyle:{width:"150px",height:"150px",margin:"50px 125px"},attrs:{slot:"reference",src:a("9eb7")("./"+e.fileImg),alt:""},slot:"reference"}),i("div",[e._v("文件大小："),i("font",{staticStyle:{"font-size":"18px"}},[e._v(e._s(e.fileCount))])],1),i("br"),i("div",[e._v("文件名称："),i("font",{staticStyle:{"font-size":"18px"}},[e._v(e._s(e.fileName))])],1),i("br"),i("el-button",{attrs:{type:"primary",round:""},on:{click:function(t){return e.to_download()}}},[i("i",{staticClass:"el-icon-download"}),e._v("下载此文件")])],1)])},Z=[],ee={name:"ShareFileMain",data:function(){return{fileImg:"",fileCount:"",fileName:""}},created:function(){this.init()},methods:{to_download:function(){console.log("download");var e=localStorage.getItem("fid"),t=localStorage.getItem("sid"),a=localStorage.getItem("name");window.location.href=this.$hostFile+"downShareFile?username="+a+"&fid="+e+"&sid="+t},init:function(){var e=this,t=localStorage.getItem("fid");localStorage.getItem("sid");this.$http.post(this.$hostFile+"getFile",this.$qs.stringify({fid:t})).then(function(t){if(1==t.data.code){e.fileName=t.data.vueFile.fname,e.fileImg=t.data.fimg,e.fileId=t.data.vueFile.fid;var a=parseInt(t.data.vueFile.fsize.split("KB")[0]);if(a>1023&&a<1048576)var i=(a/1024).toFixed(2)+"MB";else if(a>1048577)i=(a/1024/1024).toFixed(2)+"GB";else i=t.data.vueFile.fsize;e.fileCount=i}else e.$alert("当前文件已删除","提示",{confirmButtonText:"确定"})})}}},te=ee,ae=(a("fb22"),Object(l["a"])(te,X,Z,!1,null,"291477c0",null)),ie=ae.exports,se={name:"Home",data:function(){return{use:"50",usesize:"100",timer:"",ykey:1,someShow:""}},components:{Header:x,ShareFileMain:ie},created:function(){var e=this;""!=localStorage.getItem("uid")&&void 0!=localStorage.getItem("uid")||this.$confirm("您还未登陆/或者登陆已过期","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.$router.push({path:"/"})}).catch(function(){e.$router.push({path:"/"})})}},oe=se,ne=(a("0135"),Object(l["a"])(oe,Q,W,!1,null,"b66bc8fc",null)),re=ne.exports,le=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"main"},[a("el-card",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"box-cardx",attrs:{"element-loading-text":"正在验证，请稍后"}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("文件提取")])]),a("el-row",{attrs:{type:"flex",justify:"center"}},[a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules}},[a("el-form-item",{attrs:{prop:"name"}},[a("el-input",{attrs:{placeholder:"输入提取码"},model:{value:e.ruleForm.name,callback:function(t){e.$set(e.ruleForm,"name",t)},expression:"ruleForm.name "}})],1),a("el-form-item",[a("el-button",{staticClass:"login",attrs:{type:"primary"},on:{click:function(t){return e.checkUc("ruleForm")}}},[e._v("提取文件")])],1)],1)],1)],1)],1)},ce=[],ue={name:"Login",data:function(){var e=function(e,t,a){""===t?a(new Error("请输入提取码")):a()};return{loading:!1,ruleForm:{name:""},rules:{name:[{validator:e,trigger:"blur"}]},href:this.$route.params.checkcode}},created:function(){this.init()},methods:{init:function(){var e=this;console.log(this.href);this.$http.post(this.$hostFile+"checkUrl",this.$qs.stringify({sign:this.$share+this.href,code:this.ruleForm.name})).then(function(t){0==t.data.code&&e.$alert("当前文件已取消分享","提示",{confirmButtonText:"确定",callback:function(t){e.$router.push({path:"/"})}})})},checkUc:function(){var e=this;this.loading=!0,this.$refs.ruleForm.validate(function(t){t&&e.$http.post(e.$hostFile+"checkCode",e.$qs.stringify({sign:e.$share+e.href,code:e.ruleForm.name})).then(function(t){e.loading=!1,1==t.data.code?(localStorage.setItem("fid",t.data.fid),localStorage.setItem("sid",t.data.sid),e.$router.push({path:"/shareFile"})):e.$alert("提取码错误","提示",{confirmButtonText:"确定"})})})}}},de=ue,me=(a("4ae0"),Object(l["a"])(de,le,ce,!1,null,null,null)),fe=me.exports;i["default"].use(d["a"]);var pe=new d["a"]({base:"/vue/",routes:[{name:"Home",path:"/home",component:E},{name:"MP4",path:"/MP4",component:Y},{name:"ShareFileCode",path:"/shareFileCode/:checkcode",component:fe},{name:"ShareFile",path:"/shareFile",component:re},{name:"Login",path:"/",component:M,alias:"/login"},{name:"Register",path:"/register",component:K}]}),he=a("5c96"),ge=a.n(he),ve=(a("0fae"),a("bc3a")),be=a.n(ve),xe=a("4328"),ye=a.n(xe),we=a("8237"),$e=a.n(we),Fe=a("f0e2");a("fda2");i["default"].prototype.$video=Fe["a"],i["default"].prototype.$share="http://47.99.39.91/shareFileCode/",i["default"].prototype.$host="http://47.99.39.91/cloud/vue/",i["default"].prototype.$hostFile="http://47.99.39.91/cloud/vue/file/",i["default"].prototype.$qs=ye.a,i["default"].prototype.$md5=$e.a,i["default"].http=i["default"].prototype.$http=be.a,i["default"].prototype.$appid="",i["default"].prototype.$appsecret="";var _e="",Se="";i["default"].prototype.$sign=$e()(_e+Se),i["default"].config.productionTip=!1,i["default"].use(ge.a),new i["default"]({render:function(e){return e(u)},router:pe}).$mount("#app")},"5b0c":function(e,t,a){e.exports=a.p+"img/File.03ed805d.svg"},"5bc9":function(e,t,a){e.exports=a.p+"img/picture.4494ece9.svg"},"61c5":function(e,t,a){},"64a9":function(e,t,a){},7252:function(e,t,a){e.exports=a.p+"img/music.05d2835c.svg"},"777d":function(e,t,a){"use strict";var i=a("b311"),s=a.n(i);s.a},"7edb":function(e,t,a){e.exports=a.p+"img/excel.3c4d6586.svg"},"873e":function(e,t,a){"use strict";var i=a("61c5"),s=a.n(i);s.a},"87e2":function(e,t,a){e.exports=a.p+"img/PDF.bdf6690f.svg"},9124:function(e,t,a){"use strict";var i=a("3344"),s=a.n(i);s.a},"9eb7":function(e,t,a){var i={"./File.svg":"5b0c","./PDF.svg":"87e2","./excel.svg":"7edb","./folder.svg":"540d","./music.svg":"7252","./picture.svg":"5bc9","./txt.svg":"cf59","./video.svg":"f43c","./world.svg":"131e","./zip.svg":"1951"};function s(e){var t=o(e);return a(t)}function o(e){var t=i[e];if(!(t+1)){var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}return t}s.keys=function(){return Object.keys(i)},s.resolve=o,e.exports=s,s.id="9eb7"},a489:function(e,t,a){},b311:function(e,t,a){},b571:function(e,t,a){"use strict";var i=a("c5fd"),s=a.n(i);s.a},bc28:function(e,t,a){e.exports=a.p+"img/avatar.6a9b83a7.svg"},bcc1:function(e,t,a){},c5fd:function(e,t,a){},cf59:function(e,t,a){e.exports=a.p+"img/txt.cfccb08d.svg"},d3a2:function(e,t,a){"use strict";var i=a("a489"),s=a.n(i);s.a},f43c:function(e,t,a){e.exports=a.p+"img/video.7c7de299.svg"},fb22:function(e,t,a){"use strict";var i=a("15f0"),s=a.n(i);s.a}});
//# sourceMappingURL=app.f961aac1.js.map