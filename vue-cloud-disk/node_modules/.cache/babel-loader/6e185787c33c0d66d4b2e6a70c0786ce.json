{"remainingRequest":"D:\\uinapp\\vue-cloud-disk\\node_modules\\babel-loader\\lib\\index.js!D:\\uinapp\\vue-cloud-disk\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\uinapp\\vue-cloud-disk\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\uinapp\\vue-cloud-disk\\src\\components\\ShareFileCode.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\uinapp\\vue-cloud-disk\\src\\components\\ShareFileCode.vue","mtime":1628161341611},{"path":"D:\\uinapp\\vue-cloud-disk\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1628037320207},{"path":"D:\\uinapp\\vue-cloud-disk\\node_modules\\babel-loader\\lib\\index.js","mtime":1628037337839},{"path":"D:\\uinapp\\vue-cloud-disk\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1628037320207},{"path":"D:\\uinapp\\vue-cloud-disk\\node_modules\\vue-loader\\lib\\index.js","mtime":1628037334930}],"contextDependencies":[],"result":["import \"core-js/modules/es6.function.name\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  name: \"Login\",\n  data: function data() {\n    var name = function name(rule, value, callback) {\n      if (value === '') {\n        callback(new Error('请输入提取码'));\n      } else {\n        callback();\n      }\n    };\n\n    return {\n      loading: false,\n      ruleForm: {\n        name: ''\n      },\n      rules: {\n        name: [{\n          validator: name,\n          trigger: 'blur'\n        }]\n      },\n      href: this.$route.params.checkcode\n    };\n  },\n  created: function created() {\n    this.init();\n  },\n  methods: {\n    init: function init() {\n      var _this = this;\n\n      console.log(this.href);\n      var that = this;\n      this.$http.post(this.$hostFile + 'checkUrl', this.$qs.stringify({\n        sign: this.$share + this.href,\n        code: this.ruleForm.name\n      })).then(function (res) {\n        if (res.data.code == 0) {\n          _this.$alert('当前文件已取消分享', '提示', {\n            confirmButtonText: '确定',\n            callback: function callback(action) {\n              _this.$router.push({\n                path: '/'\n              });\n            }\n          });\n        }\n      });\n    },\n    checkUc: function checkUc() {\n      var _this2 = this;\n\n      this.loading = true;\n      this.$refs.ruleForm.validate(function (valid) {\n        if (valid) {\n          _this2.$http.post(_this2.$hostFile + 'checkCode', _this2.$qs.stringify({\n            sign: _this2.$share + _this2.href,\n            code: _this2.ruleForm.name\n          })).then(function (res) {\n            _this2.loading = false;\n\n            if (res.data.code == 1) {\n              localStorage.setItem(\"fid\", res.data.fid);\n\n              _this2.$router.push({\n                path: '/shareFile'\n              });\n            } else {\n              _this2.$alert('提取码错误', '提示', {\n                confirmButtonText: '确定'\n              });\n            }\n          });\n        }\n      });\n    }\n  }\n};",{"version":3,"sources":["ShareFileCode.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4BA,eAAA;AACA,EAAA,IAAA,EAAA,OADA;AAGA,EAAA,IAHA,kBAGA;AACA,QAAA,IAAA,GAAA,SAAA,IAAA,CAAA,IAAA,EAAA,KAAA,EAAA,QAAA,EAAA;AACA,UAAA,KAAA,KAAA,EAAA,EAAA;AACA,QAAA,QAAA,CAAA,IAAA,KAAA,CAAA,QAAA,CAAA,CAAA;AACA,OAFA,MAEA;AACA,QAAA,QAAA;AACA;AACA,KANA;;AAOA,WAAA;AACA,MAAA,OAAA,EAAA,KADA;AAEA,MAAA,QAAA,EAAA;AACA,QAAA,IAAA,EAAA;AADA,OAFA;AAKA,MAAA,KAAA,EAAA;AACA,QAAA,IAAA,EAAA,CAAA;AACA,UAAA,SAAA,EAAA,IADA;AAEA,UAAA,OAAA,EAAA;AAFA,SAAA;AADA,OALA;AAcA,MAAA,IAAA,EAAA,KAAA,MAAA,CAAA,MAAA,CAAA;AAdA,KAAA;AAiBA,GA5BA;AA6BA,EAAA,OA7BA,qBA6BA;AACA,SAAA,IAAA;AACA,GA/BA;AAgCA,EAAA,OAAA,EAAA;AACA,IAAA,IADA,kBACA;AAAA;;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,KAAA,IAAA;AACA,UAAA,IAAA,GAAA,IAAA;AACA,WAAA,KAAA,CAAA,IAAA,CAAA,KAAA,SAAA,GAAA,UAAA,EAAA,KAAA,GAAA,CAAA,SAAA,CAAA;AACA,QAAA,IAAA,EAAA,KAAA,MAAA,GAAA,KAAA,IADA;AAEA,QAAA,IAAA,EAAA,KAAA,QAAA,CAAA;AAFA,OAAA,CAAA,EAGA,IAHA,CAGA,UAAA,GAAA,EAAA;AACA,YAAA,GAAA,CAAA,IAAA,CAAA,IAAA,IAAA,CAAA,EAAA;AACA,UAAA,KAAA,CAAA,MAAA,CAAA,WAAA,EAAA,IAAA,EAAA;AACA,YAAA,iBAAA,EAAA,IADA;AAEA,YAAA,QAAA,EAAA,kBAAA,MAAA,EAAA;AACA,cAAA,KAAA,CAAA,OAAA,CAAA,IAAA,CAAA;AACA,gBAAA,IAAA,EAAA;AADA,eAAA;AAGA;AANA,WAAA;AASA;AACA,OAfA;AAgBA,KApBA;AAqBA,IAAA,OArBA,qBAqBA;AAAA;;AACA,WAAA,OAAA,GAAA,IAAA;AACA,WAAA,KAAA,CAAA,QAAA,CAAA,QAAA,CAAA,UAAA,KAAA,EAAA;AAEA,YAAA,KAAA,EAAA;AACA,UAAA,MAAA,CAAA,KAAA,CAAA,IAAA,CAAA,MAAA,CAAA,SAAA,GAAA,WAAA,EAAA,MAAA,CAAA,GAAA,CAAA,SAAA,CAAA;AACA,YAAA,IAAA,EAAA,MAAA,CAAA,MAAA,GAAA,MAAA,CAAA,IADA;AAEA,YAAA,IAAA,EAAA,MAAA,CAAA,QAAA,CAAA;AAFA,WAAA,CAAA,EAGA,IAHA,CAGA,UAAA,GAAA,EAAA;AACA,YAAA,MAAA,CAAA,OAAA,GAAA,KAAA;;AACA,gBAAA,GAAA,CAAA,IAAA,CAAA,IAAA,IAAA,CAAA,EAAA;AACA,cAAA,YAAA,CAAA,OAAA,CAAA,KAAA,EAAA,GAAA,CAAA,IAAA,CAAA,GAAA;;AACA,cAAA,MAAA,CAAA,OAAA,CAAA,IAAA,CAAA;AACA,gBAAA,IAAA,EAAA;AADA,eAAA;AAGA,aALA,MAKA;AACA,cAAA,MAAA,CAAA,MAAA,CAAA,OAAA,EAAA,IAAA,EAAA;AACA,gBAAA,iBAAA,EAAA;AADA,eAAA;AAGA;AACA,WAfA;AAgBA;AACA,OApBA;AAqBA;AA5CA;AAhCA,CAAA","sourcesContent":["<template>\r\n\t<div class=\"main\">\r\n\r\n\t\t<!-- <el-tag style=\"border: none;margin: 100px 45%;font-size: 30px;\">阿洋网盘</el-tag> -->\r\n\t\t<el-card class=\"box-card\" v-loading=\"loading\" element-loading-text=\"正在验证，请稍后\">\r\n\t\t\t<div slot=\"header\" class=\"clearfix\">\r\n\t\t\t\t<span>文件提取</span>\r\n\t\t\t</div>\r\n\t\t\t<el-row type=\"flex\" justify=\"center\">\r\n\t\t\t\t<el-form :model=\"ruleForm\" :rules=\"rules\" ref=\"ruleForm\" class=\"demo-ruleForm\">\r\n\t\t\t\t\t<el-form-item prop=\"name\">\r\n\t\t\t\t\t\t<el-input v-model=\"ruleForm.name \" placeholder=\"输入提取码\"></el-input>\r\n\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t<el-form-item>\r\n\t\t\t\t\t\t<el-button type=\"primary\" @click=\"checkUc('ruleForm')\" class=\"login\">提取文件</el-button>\r\n\t\t\t\t\t</el-form-item>\r\n\r\n\t\t\t\t</el-form>\r\n\r\n\t\t\t</el-row>\r\n\t\t</el-card>\r\n\r\n\r\n\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\texport default {\r\n\t\tname: \"Login\",\r\n\r\n\t\tdata() {\r\n\t\t\tvar name = (rule, value, callback) => {\r\n\t\t\t\tif (value === '') {\r\n\t\t\t\t\tcallback(new Error('请输入提取码'));\r\n\t\t\t\t} else {\r\n\t\t\t\t\tcallback();\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t\treturn {\r\n\t\t\t\tloading: false,\r\n\t\t\t\truleForm: {\r\n\t\t\t\t\tname: ''\r\n\t\t\t\t},\r\n\t\t\t\trules: {\r\n\t\t\t\t\tname: [{\r\n\t\t\t\t\t\t\tvalidator: name,\r\n\t\t\t\t\t\t\ttrigger: 'blur'\r\n\t\t\t\t\t\t},\r\n\r\n\t\t\t\t\t]\r\n\r\n\t\t\t\t},\r\n\t\t\t\thref: this.$route.params.checkcode\r\n\r\n\t\t\t}\r\n\t\t},\r\n\t\tcreated() {\r\n\t\t\tthis.init()\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tinit() {\r\n\t\t\t\tconsole.log(this.href)\r\n\t\t\t\tvar that = this;\r\n\t\t\t\tthis.$http.post(this.$hostFile + 'checkUrl', this.$qs.stringify({\r\n\t\t\t\t\tsign: this.$share + this.href,\r\n\t\t\t\t\tcode: this.ruleForm.name\r\n\t\t\t\t})).then(res => {\r\n\t\t\t\t\tif (res.data.code == 0) {\r\n\t\t\t\t\t\tthis.$alert('当前文件已取消分享', '提示', {\r\n\t\t\t\t\t\t\tconfirmButtonText: '确定',\r\n\t\t\t\t\t\t\tcallback: action => {\r\n\t\t\t\t\t\t\t\tthis.$router.push({\r\n\t\t\t\t\t\t\t\t\tpath: '/'\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tcheckUc() {\r\n\t\t\t\tthis.loading=true\r\n\t\t\t\tthis.$refs.ruleForm.validate((valid) => {\r\n\t\t\t\t\t\r\n\t\t\t\t\tif (valid) {\r\n\t\t\t\t\t\tthis.$http.post(this.$hostFile + 'checkCode', this.$qs.stringify({\r\n\t\t\t\t\t\t\tsign: this.$share + this.href,\r\n\t\t\t\t\t\t\tcode: this.ruleForm.name\r\n\t\t\t\t\t\t})).then(res => {\r\n\t\t\t\t\t\t\tthis.loading=false\r\n\t\t\t\t\t\t\tif (res.data.code == 1) {\r\n\t\t\t\t\t\t\t\tlocalStorage.setItem(\"fid\",res.data.fid)\r\n\t\t\t\t\t\t\t\tthis.$router.push({\r\n\t\t\t\t\t\t\t\t\tpath: '/shareFile'\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tthis.$alert('提取码错误', '提示', {\r\n\t\t\t\t\t\t\t\t\tconfirmButtonText: '确定'\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style>\r\n\ta {\r\n\t\tcolor: white;\r\n\t\ttext-decoration: none;\r\n\t}\r\n\r\n\ta:hover {\r\n\t\tcolor: gray;\r\n\t}\r\n\r\n\t.main {\r\n\t\tbackground: url(\"../assets/checkcode.jpg\") no-repeat;\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t\tbackground-size: 100%100%;\r\n\t}\r\n\r\n\t.box-card {\r\n\t\tmax-width: 400px;\r\n\t\tmin-width: 320px;\r\n\t\tposition: absolute;\r\n\t\tleft: 50%;\r\n\t\ttop: 50%;\r\n\t\ttransform: translate(-50%, -50%);\r\n\r\n\t}\r\n\r\n\t.login {\r\n\t\twidth: 100%;\r\n\t}\r\n</style>\n"],"sourceRoot":"src/components"}]}