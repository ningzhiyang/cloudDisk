{"remainingRequest":"D:\\uinapp\\vue-cloud-disk\\node_modules\\thread-loader\\dist\\cjs.js!D:\\uinapp\\vue-cloud-disk\\node_modules\\babel-loader\\lib\\index.js!D:\\uinapp\\vue-cloud-disk\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\uinapp\\vue-cloud-disk\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\uinapp\\vue-cloud-disk\\src\\views\\Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\uinapp\\vue-cloud-disk\\src\\views\\Login.vue","mtime":1628236988400},{"path":"D:\\uinapp\\vue-cloud-disk\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1628037320207},{"path":"D:\\uinapp\\vue-cloud-disk\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1628037317753},{"path":"D:\\uinapp\\vue-cloud-disk\\node_modules\\babel-loader\\lib\\index.js","mtime":1628037337839},{"path":"D:\\uinapp\\vue-cloud-disk\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1628037320207},{"path":"D:\\uinapp\\vue-cloud-disk\\node_modules\\vue-loader\\lib\\index.js","mtime":1628037334930}],"contextDependencies":[],"result":["import \"core-js/modules/es6.function.name\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  name: \"Login\",\n  data: function data() {\n    var name = function name(rule, value, callback) {\n      if (value === '') {\n        callback(new Error('请输入账号'));\n      } else {\n        callback();\n      }\n    };\n\n    var pass = function pass(rule, value, callback) {\n      if (value === '') {\n        callback(new Error('请输入密码'));\n      } else {\n        callback();\n      }\n    };\n\n    return {\n      loading: false,\n      ruleForm: {\n        name: '',\n        pass: ''\n      },\n      rules: {\n        name: [{\n          validator: name,\n          trigger: 'blur'\n        }],\n        pass: [{\n          validator: pass,\n          trigger: 'blur'\n        }]\n      }\n    };\n  },\n  methods: {\n    login: function login(ruleForm) {\n      var _this = this;\n\n      this.$refs[ruleForm].validate(function (valid) {\n        if (valid) {\n          var that = _this;\n\n          _this.$http.post(_this.$host + 'to_login', _this.$qs.stringify({\n            username: _this.ruleForm.name,\n            password: _this.ruleForm.pass\n          })).then(function (response) {\n            if (response.data.code == 1) {\n              that.$message({\n                message: '登录成功！！！',\n                type: 'success'\n              }); //使用location 记录用户信息\n\n              localStorage.setItem('userimg', response.data.userimg);\n              localStorage.setItem('uid', that.$md5(that.ruleForm.name));\n              localStorage.setItem('name', that.ruleForm.name);\n              localStorage.setItem('used', response.data.used);\n              that.$router.push(\"/home\");\n            } else if (response.data.code == -1) {\n              that.$message({\n                message: '当前用户被封禁！！！',\n                type: 'error'\n              });\n            } else {\n              that.$message({\n                message: '用户名或密码错误！！！',\n                type: 'error'\n              });\n            }\n          }).catch(function (error) {\n            console.log(error);\n          });\n        } else {\n          console.log('error submit!!');\n          return false;\n        }\n      });\n    },\n    resetForm: function resetForm(ruleForm) {\n      this.$refs[ruleForm].resetFields();\n    },\n    register: function register() {\n      this.$router.push({\n        path: 'Register'\n      });\n    },\n    home: function home() {\n      this.$router.push({\n        path: '/Home'\n      });\n    }\n  }\n};",{"version":3,"sources":["Login.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n\t<div class=\"main\">\r\n\r\n\r\n\t\t<el-card class=\"box-card\" v-loading=\"loading\" element-loading-text=\"正在登录，请稍后\">\r\n\t\t\t<div slot=\"header\" class=\"clearfix\">\r\n\t\t\t\t<span>登录</span>\r\n\t\t\t\t<el-button style=\"float: right; padding: 3px 0\" type=\"text\" @click=\"register\">还没有账号？去注册\r\n\t\t\t\t</el-button>\r\n\t\t\t</div>\r\n\t\t\t<el-row type=\"flex\" justify=\"center\">\r\n\t\t\t\t<el-form :model=\"ruleForm\" :rules=\"rules\" ref=\"ruleForm\" class=\"demo-ruleForm\">\r\n\t\t\t\t\t<el-form-item prop=\"name\">\r\n\t\t\t\t\t\t<el-input v-model=\"ruleForm.name \" placeholder=\"账号\"></el-input>\r\n\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t<el-form-item prop=\"pass\">\r\n\t\t\t\t\t\t<el-input v-model=\"ruleForm.pass\" show-password placeholder=\"密码\"></el-input>\r\n\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t<el-form-item>\r\n\t\t\t\t\t\t<el-button type=\"primary\" @click=\"login('ruleForm')\" class=\"login\">登录</el-button>\r\n\t\t\t\t\t</el-form-item>\r\n\r\n\t\t\t\t</el-form>\r\n\r\n\t\t\t</el-row>\r\n\t\t</el-card>\r\n\r\n\r\n\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\r\n\texport default {\r\n\t\tname: \"Login\",\r\n\r\n\t\tdata() {\r\n\t\t\tvar name = (rule, value, callback) => {\r\n\t\t\t\tif (value === '') {\r\n\t\t\t\t\tcallback(new Error('请输入账号'));\r\n\t\t\t\t} else {\r\n\t\t\t\t\tcallback();\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t\tvar pass = (rule, value, callback) => {\r\n\t\t\t\tif (value === '') {\r\n\t\t\t\t\tcallback(new Error('请输入密码'));\r\n\t\t\t\t} else {\r\n\t\t\t\t\tcallback();\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t\treturn {\r\n\t\t\t\tloading: false,\r\n\t\t\t\truleForm: {\r\n\t\t\t\t\tname: '',\r\n\t\t\t\t\tpass: ''\r\n\t\t\t\t},\r\n\t\t\t\trules: {\r\n\t\t\t\t\tname: [{\r\n\t\t\t\t\t\t\tvalidator: name,\r\n\t\t\t\t\t\t\ttrigger: 'blur'\r\n\t\t\t\t\t\t},\r\n\r\n\t\t\t\t\t],\r\n\t\t\t\t\tpass: [{\r\n\t\t\t\t\t\tvalidator: pass,\r\n\t\t\t\t\t\ttrigger: 'blur'\r\n\t\t\t\t\t}, ],\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tlogin(ruleForm) {\r\n\t\t\t\tthis.$refs[ruleForm].validate((valid) => {\r\n\t\t\t\t\tif (valid) {\r\n\t\t\t\t\t\tvar that = this;\r\n\t\t\t\t\t\tthis.$http.post(this.$host+'to_login', this.$qs.stringify({\r\n\t\t\t\t\t\t\t\tusername: this.ruleForm.name,\r\n\t\t\t\t\t\t\t\tpassword: this.ruleForm.pass,\r\n\t\t\t\t\t\t\t}))\r\n\t\t\t\t\t\t\t.then(function(response) {\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\tif (response.data.code == 1) {\r\n\t\t\t\t\t\t\t\t\tthat.$message({\r\n\t\t\t\t\t\t\t\t\t\tmessage: '登录成功！！！',\r\n\t\t\t\t\t\t\t\t\t\ttype: 'success'\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t//使用location 记录用户信息\r\n\r\n\t\t\t\t\t\t\t\t\tlocalStorage.setItem('userimg',response.data.userimg)\r\n\t\t\t\t\t\t\t\t\tlocalStorage.setItem('uid', that.$md5(that.ruleForm.name))\r\n\t\t\t\t\t\t\t\t\tlocalStorage.setItem('name', that.ruleForm.name)\r\n\t\t\t\t\t\t\t\t\tlocalStorage.setItem('used',response.data.used)\r\n\r\n\t\t\t\t\t\t\t\t\tthat.$router.push(\"/home\")\r\n\t\t\t\t\t\t\t\t} else if(response.data.code == -1){\r\n\t\t\t\t\t\t\t\t\tthat.$message({\r\n\t\t\t\t\t\t\t\t\t\tmessage: '当前用户被封禁！！！',\r\n\t\t\t\t\t\t\t\t\t\ttype: 'error'\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t}else {\r\n\t\t\t\t\t\t\t\t\tthat.$message({\r\n\t\t\t\t\t\t\t\t\t\tmessage: '用户名或密码错误！！！',\r\n\t\t\t\t\t\t\t\t\t\ttype: 'error'\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t.catch(function(error) {\r\n\t\t\t\t\t\t\t\tconsole.log(error);\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tconsole.log('error submit!!');\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\r\n\r\n\t\t\t},\r\n\t\t\tresetForm(ruleForm) {\r\n\t\t\t\tthis.$refs[ruleForm].resetFields();\r\n\t\t\t},\r\n\t\t\tregister() {\r\n\t\t\t\tthis.$router.push({\r\n\t\t\t\t\tpath: 'Register'\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\thome() {\r\n\t\t\t\tthis.$router.push({\r\n\t\t\t\t\tpath: '/Home'\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style scoped>\r\n\ta {\r\n\t\tcolor: white;\r\n\t\ttext-decoration: none;\r\n\t}\r\n\r\n\ta:hover {\r\n\t\tcolor: gray;\r\n\t}\r\n\r\n\t.main {\r\n\t\tbackground: url(\"../assets/bg.jpg\") no-repeat;\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t\tbackground-size: 100%100%;\r\n\t}\r\n\r\n\t.box-card {\r\n\t\tmax-width: 400px;\r\n\t\tmin-width: 320px;\r\n\t\tposition: absolute;\r\n\t\tleft: 50%;\r\n\t\ttop: 50%;\r\n\t\ttransform: translate(-50%, -50%);\r\n\r\n\t}\r\n\r\n\t.login {\r\n\t\twidth: 100%;\r\n\t}\r\n</style>\n"],"sourceRoot":"src/views"}]}